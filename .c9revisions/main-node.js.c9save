{"ts":1358468727594,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var phantom = require('node-phantom'),\n    req = require('request'),\n    fs = require('fs'),\n    moment = require('moment'),\n    bigData;\n\nconsole.log('init');\n\n\nvar main = {\n\n    json: null,\n    \n    queue: [],\n    \n    runQueue: function(){\n      var _this = this;\n      var ind = 0;\n      \n      var int = setInterval(function(){\n        console.log(Math.floor(ind / _this.queue.length)+'%: '+ind+' of '+_this.queue.length);\n        if(ind < _this.queue.length){\n          _this.getGame(_this.queue[ind][0],_this.queue[ind][1],_this.queue[ind][2],function(ret,worked){\n              //console.log(ret);\n              if(worked){\n                fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n                  if (err) throw err;\n                  \n                });\n              } else {\n                \n                fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n                  if (err) throw err;\n                  \n                });\n              }\n              \n          });\n          \n        }\n        ind++;\n        \n        \n/*\n        _this.getGame(cons,data[cons][game].safename,game,function(ret,worked){\n            if(worked){\n              fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n                if (err) throw err;\n                \n              });\n            } else {\n              \n              fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n                if (err) throw err;\n                \n              });\n            }\n            \n            ind++;\n            \n        });\n*/\n        \n      },800);      \n    },\n    \n    init: function(){\n    \n      var _this = this;\n      \n      fs.readFile('console_obj.json', 'utf8', function (err,data) {\n        if (err) {\n          return console.log(err);\n        }\n        var data = JSON.parse(data);\n        _this.json = data;\n        \n        for( cons in data ){\n          \n          for( game in data[cons]){\n\n            \n              _this.queue.push([cons,data[cons][game].safename,game]);\n\n          }\n          \n        }\n        _this.runQueue();\n        \n       /*\n _this.getGame('nes','10-yard-fight',0,function(ret,worked){\n          if(worked){\n            fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n              if (err) throw err;\n              \n            });\n          } else {\n            \n            fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n              if (err) throw err;\n              \n            });\n          }\n        });\n        \n      \n*/\n      });\n    },\n    \n    log: function(item){\n      \n      console.dir(item);\n      \n    },\n    \n    getGame: function(cons, safename, gameIndex, cb){\n      var _this = this;\n      var url = 'http://videogames.pricecharting.com/game/'+cons+'/'+safename;\n      _this.log(url);\n      \n      var obj = _this.json[cons][gameIndex];\n      \n      obj.console = cons;\n      \n      //console.log(obj);\n      \n      setTimeout(function(){\n      \n      phantom.create(function(e,ph) {\n        ph.createPage(function(e,page) {\n          //pjs api methods\n          \n          page.open(url,function(e,status) {\n              \n              \n              page.includeJs('http://cdnjs.cloudflare.com/ajax/libs/moment.js/1.7.2/moment.min.js', function(err) {\n\n  \n                setTimeout(function() {\n                  \n                  \n                \n                  return page.evaluate(function() {\n                    \n                    function ___clean(actual){\n                      var newArray = new Array();\n                      for(var i = 0; i<actual.length; i++){\n                    \t  if (actual[i]){\n                    \t\t  newArray.push(actual[i]);\n                    \t\t}\n                      }\n                      return newArray;\n                    }\n\n                    \n                    var ___el = $('#product_details');\n                    \n                    var ___upc = ___el.find('p').clone().find('span').remove().end().text().replace(/\\n/g,'').split(' ');\n                    \n                    var ___date = ___el.find('.date').text();\n                    \n                    \n                    return {\n                      img: ___el.find('.cover img').attr('src'),\n                      upc: ___clean(___upc)[0],\n                      date: ___date\n                    };\n                  \n                  }, function(err,result) {\n                    //console.log(result);\n                    if(result !== null){\n                      obj.img = (result.img) ? result.img.toString() : '';\n                      obj.upc = (result.upc) ? result.upc.toString() : '';\n                      obj.date = (result.date) ? moment(result.date,'D MMM YYYY').unix().toString() : '';\n                      console.log(cons + ': ' + gameIndex + ' of ' + _this.json[cons].length);\n                      if(cb)cb(obj, true);\n                    } else {\n                      if(cb)cb(obj, false);\n                    }\n                    ph.exit();\n                  });\n                  \n              }, 10);\n\n              });           \n                       \n          });\n          \n        });\n      });  \n      },500)\n    }\n  \n}\n\nmain.init();\n\n/*\nreq.get('./console_obj.json',\n  function (error, response, body) {\n    if (!error && response.statusCode == 200) {\n      console.log(body)\n    }\n  }\n);\n*/\n\n"]],"start1":0,"start2":0,"length1":0,"length2":5510}]],"length":5510}
{"contributors":[],"silentsave":false,"ts":1358468880147,"patch":[[{"diffs":[[0,"re('"],[-1,"node-"],[0,"phantom"],[1,"js"],[0,"'),\n"]],"start1":19,"start2":19,"length1":20,"length2":17}]],"length":5507,"saved":false}
{"ts":1358468971397,"patch":[[{"diffs":[[0,"'phantom"],[-1,"js"],[0,"'),\n    "]],"start1":22,"start2":22,"length1":18,"length2":16},{"diffs":[[0,"        "],[-1,"var "],[0,"data = J"]],"start1":1876,"start2":1876,"length1":20,"length2":16}]],"length":5501,"saved":false}
{"ts":1358468982713,"patch":[[{"diffs":[[0,"equire('"],[1,"node-"],[0,"phantom'"]],"start1":15,"start2":15,"length1":16,"length2":21}]],"length":5506,"saved":false}
{"ts":1358470416208,"patch":[[{"diffs":[[0,"var "],[-1,"phantom"],[1,"yql"],[0," = requi"]],"start1":0,"start2":0,"length1":19,"length2":15},{"diffs":[[0,"re('"],[-1,"node-phantom"],[1,"yql"],[0,"'),\n"]],"start1":15,"start2":15,"length1":20,"length2":11},{"diffs":[[0,"dex, cb){\n      "],[1,"  "],[0,"var _this = this"]],"start1":2784,"start2":2784,"length1":32,"length2":34},{"diffs":[[0,"r _this = this;\n"],[1,"  "],[0,"      var url = "]],"start1":2804,"start2":2804,"length1":32,"length2":34},{"diffs":[[0,"fename;\n"],[1,"        \n  "],[0,"      _t"]],"start1":2893,"start2":2893,"length1":16,"length2":27},{"diffs":[[0,"log(url);\n      "],[-1,"\n"],[1,"  \n  "],[0,"      var obj = "]],"start1":2924,"start2":2924,"length1":33,"length2":37},{"diffs":[[0,"dex];\n      "],[1," "],[-1,"\n"],[1," \n  "],[0,"      obj.co"]],"start1":2984,"start2":2984,"length1":25,"length2":29},{"diffs":[[0,"    "],[-1,"\n"],[0,"      "],[-1,"//console.log(obj);\n"],[0,"      "],[-1,"\n"],[0,"      "],[-1,"setTimeout(function(){\n      \n      phantom.create(function(e,ph) {\n        ph.createPage(function(e,page) {\n          //pjs api methods\n          \n          page.open(url,function(e,status) {\n              \n              \n              page.includeJs('http://cdnjs.cloudflare.com/ajax/libs/moment.js/1.7.2/moment.min.js', function(err) {\n\n  \n                setTimeout(function() {\n                  \n                  \n                \n                  return page.evaluate(function() {\n                    \n                    function ___clean(actual){\n                      var newArray = new Array();\n                      for(var i = 0; i<actual.length; i++){\n                    \t  if (actual[i]){\n                    \t\t  newArray.push(actual[i]);\n                    \t\t}\n                      }\n                      return newArray;\n                    }\n\n                    \n                    var ___el = $('#product_details');\n                    \n                    var ___upc = ___el.find('p').clone().find('span').remove().end().text().replace(/\\n/g,'').split(' ');\n                    \n                    var ___date = ___el.find('.date').text();\n                    \n                    \n                    return {\n                      img: ___el.find('.cover img').attr('src'),\n                      upc: ___clean(___upc)[0],\n                      date: ___date\n                    };"],[1," \n        new yql.exec('select * from html where url=\"http://videogames.pricecharting.com/game/nes/10-yard-fight\" and xpath=\\'//div[@id=\"product_details\"]/div[1]/img[1] | //div[@id=\"product_details\"]/p[1]/span[@class=\"date\"] | //div[@id=\"product_details\"]/p[1]/text()[1]\\'',function(r){\n            console.dir(r)\n        })"],[0,"\n   "]],"start1":3029,"start2":3029,"length1":1459,"length2":350},{"diffs":[[0,"               \n"],[1,"//"],[0,"                "]],"start1":3379,"start2":3379,"length1":32,"length2":34},{"diffs":[[0,"        "],[-1," },"],[0," functio"]],"start1":3406,"start2":3406,"length1":19,"length2":16},{"diffs":[[0,"r,result) {\n"],[1,"//"],[0,"            "]],"start1":3426,"start2":3426,"length1":24,"length2":26},{"diffs":[[0,"og(result);\n"],[1,"//"],[0,"            "]],"start1":3471,"start2":3471,"length1":24,"length2":26},{"diffs":[[0," null){\n"],[1,"//"],[0,"        "]],"start1":3518,"start2":3518,"length1":16,"length2":18},{"diffs":[[0,"oString() : '';\n"],[1,"//"],[0,"                "]],"start1":3587,"start2":3587,"length1":32,"length2":34},{"diffs":[[0,"oString() : '';\n"],[1,"//"],[0,"                "]],"start1":3664,"start2":3664,"length1":32,"length2":34},{"diffs":[[0,") : '';\n"],[1,"//"],[0,"        "]],"start1":3780,"start2":3780,"length1":16,"length2":18},{"diffs":[[0,"[cons].length);\n"],[1,"//"],[0,"                "]],"start1":3869,"start2":3869,"length1":32,"length2":34},{"diffs":[[0,"obj, true);\n"],[1,"//"],[0,"            "]],"start1":3918,"start2":3918,"length1":24,"length2":26},{"diffs":[[0,"       } else {\n"],[1,"//"],[0,"                "]],"start1":3945,"start2":3945,"length1":32,"length2":34},{"diffs":[[0,"e);\n"],[-1,"                    }\n                    ph.exit();\n                  });\n            "],[1,"//"],[0,"      "],[-1,"\n"],[0,"    "]],"start1":4003,"start2":4003,"length1":102,"length2":16},{"diffs":[[0,"   }"],[-1,", 10);\n\n  "],[1,"\n//"],[0,"    "]],"start1":4026,"start2":4026,"length1":18,"length2":11},{"diffs":[[0,"    "],[-1,"});"],[0,"        "],[-1,"   \n        "],[1,"\n//"],[0,"    "]],"start1":4041,"start2":4041,"length1":31,"length2":19},{"diffs":[[0,"    "],[-1,"\n     "],[0,"   "],[-1,"  });\n          \n        });\n      });  \n      },500)"],[1,"};"],[0,"\n   "]],"start1":4067,"start2":4067,"length1":70,"length2":13}]],"length":4262,"saved":false}
{"ts":1358470447166,"patch":[[{"diffs":[[0,"le.dir(r"],[-1,")"],[1,".query.results);"],[0,"\n       "]],"start1":3355,"start2":3355,"length1":17,"length2":32}]],"length":4277,"saved":false}
{"ts":1358470602788,"patch":[[{"diffs":[[0,"    "],[-1,"console.dir(r.query.results);"],[1,"result = r.query.results;\n            obj.img = (result.img.src) ? result.img.src.toString() : '';\n            obj.upc = r.content || '';\n            obj.date = (result.span.content) ? moment(result.span.content,'D MMM YYYY').unix().toString() : '';\n            "],[0,"\n   "]],"start1":3346,"start2":3346,"length1":37,"length2":270},{"diffs":[[0,"      })"],[1,";"],[0,"\n       "]],"start1":3615,"start2":3615,"length1":16,"length2":17},{"diffs":[[0,"e = "],[-1,"(result.date) ? moment(result.date,'D MMM YYYY').unix().toString() : '';"],[0,"\n// "]],"start1":3960,"start2":3960,"length1":80,"length2":8}]],"length":4439,"saved":false}
{"ts":1358470608850,"patch":[[{"diffs":[[0,"'';\n            "],[1,"console.log(obj);"],[0,"\n        });\n   "]],"start1":3596,"start2":3596,"length1":32,"length2":49}]],"length":4456,"saved":false}
{"ts":1358470612646,"patch":[[{"diffs":[[0,"        "],[1,"var "],[0,"result ="]],"start1":3342,"start2":3342,"length1":16,"length2":20}]],"length":4460,"saved":false}
{"ts":1358470633084,"patch":[[{"diffs":[[0,"ole.log("],[-1,"obj"],[1,"r"],[0,");\n     "]],"start1":3620,"start2":3620,"length1":19,"length2":17}]],"length":4458,"saved":false}
{"ts":1358470651063,"patch":[[{"diffs":[[0,"console."],[-1,"log(r"],[1,"dir(result"],[0,");\n     "]],"start1":3616,"start2":3616,"length1":21,"length2":26}]],"length":4463,"saved":false}
{"ts":1358470716432,"patch":[[{"diffs":[[0,"tent"],[-1," || ''"],[0,";\n  "]],"start1":3480,"start2":3480,"length1":14,"length2":8}]],"length":4457,"saved":false}
{"ts":1358470762942,"patch":[[{"diffs":[[0,"ame/"],[-1,"nes/10-yard-fight"],[1,"'+cons+'/'+safename+'"],[0,"\" an"]],"start1":3142,"start2":3142,"length1":25,"length2":29},{"diffs":[[0,"ole.dir("],[-1,"result"],[1,"obj"],[0,");\n     "]],"start1":3618,"start2":3618,"length1":22,"length2":19}]],"length":4458,"saved":false}
{"ts":1358470781260,"patch":[[{"diffs":[[0,"ult.span"],[-1,".content"],[0,") ? mome"]],"start1":3517,"start2":3517,"length1":24,"length2":16}]],"length":4450,"saved":false}
{"ts":1358470849150,"patch":[[{"diffs":[[0,"bj.upc ="],[1," (r.content == 'undefined') ? '' :"],[0," r.conte"]],"start1":3470,"start2":3470,"length1":16,"length2":50}]],"length":4484,"saved":false}
{"ts":1358470876943,"patch":[[{"diffs":[[0,"ntent =="],[1,"="],[0," 'undefi"]],"start1":3484,"start2":3484,"length1":16,"length2":17}]],"length":4485,"saved":false}
{"ts":1358470886361,"patch":[[{"diffs":[[0,"upc = (r"],[1,"esult"],[0,".content"]],"start1":3473,"start2":3473,"length1":16,"length2":21},{"diffs":[[0,"? '' : r"],[1,"esult"],[0,".content"]],"start1":3512,"start2":3512,"length1":16,"length2":21}]],"length":4495,"saved":false}
{"ts":1358470894224,"patch":[[{"diffs":[[0,"  obj.upc = "],[-1,"("],[0,"result.conte"]],"start1":3467,"start2":3467,"length1":25,"length2":24},{"diffs":[[0,"ent "],[-1,"=== 'undefined') ? '' : result.content"],[1,"|| ''"],[0,";\n  "]],"start1":3490,"start2":3490,"length1":46,"length2":13}]],"length":4461,"saved":false}
{"ts":1358470915692,"patch":[[{"diffs":[[0,"   \n        "],[1,"//"],[0,"_this.log(ur"]],"start1":2906,"start2":2906,"length1":24,"length2":26}]],"length":4463,"saved":false}
{"ts":1358470977644,"patch":[[{"diffs":[[0,"[2],function(ret"],[-1,",worked"],[0,""],[1,""],[0,"){\n             "]],"start1":533,"start2":533,"length1":39,"length2":32},{"diffs":[[0,"t);\n"],[-1,"              if(worked){\n"],[0,"    "]],"start1":582,"start2":582,"length1":34,"length2":8},{"diffs":[[0,"    "],[-1,"    } else {\n                \n                fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n                  if (err) throw err;\n                  \n                });\n              }\n              \n          });\n          \n        }\n        ind++;\n        \n        \n/*\n        _this.getGame(cons,data[cons][game].safename,game,function(ret,worked){\n            if(worked){\n              fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n                if (err) throw err;\n                \n              });\n            } else {\n              \n              fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n                if (err) throw err;\n                \n              });\n            }\n            \n            ind++;\n            \n        });\n*/\n        "],[1,"});\n          \n        }\n        ind++;"],[0,"\n   "]],"start1":758,"start2":758,"length1":858,"length2":47},{"diffs":[[0,"        "],[-1,"\n        "],[0,"  for( g"]],"start1":1124,"start2":1124,"length1":25,"length2":16},{"diffs":[[0,"s]){"],[-1,"\n\n            "],[0,"\n   "]],"start1":1155,"start2":1155,"length1":22,"length2":8},{"diffs":[[0,"game]);\n"],[-1,"\n"],[0,"        "]],"start1":1223,"start2":1223,"length1":17,"length2":16},{"diffs":[[0,"      }\n"],[-1,"          \n"],[0,"        "]],"start1":1235,"start2":1235,"length1":27,"length2":16},{"diffs":[[0,"   \n"],[-1,"       /*\n _this.getGame('nes','10-yard-fight',0,function(ret,worked){\n          if(worked){\n            fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n              if (err) throw err;\n              \n            });\n          } else {\n            \n            fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n              if (err) throw err;\n              \n            });\n          }\n        });\n        \n      \n*/\n"],[0,"    "]],"start1":1284,"start2":1284,"length1":483,"length2":8},{"diffs":[[0,"'';\n            "],[1,"//"],[0,"console.dir(obj)"]],"start1":2249,"start2":2249,"length1":32,"length2":34},{"diffs":[[0,"r(obj);\n"],[1,"            \n"],[0,"        "]],"start1":2277,"start2":2277,"length1":16,"length2":29}]],"length":3124,"saved":false}
{"ts":1358470992904,"patch":[[{"diffs":[[0,"j);\n            "],[1,"cb(obj);"],[0,"\n        });\n   "]],"start1":2281,"start2":2281,"length1":32,"length2":40}]],"length":3132,"saved":false}
{"ts":1358471003332,"patch":[[{"diffs":[[0,"});\n"],[-1,"                  \n//                  function(err,result) {\n//                    //console.log(result);\n//                    if(result !== null){\n//                      obj.img = (result.img) ? result.img.toString() : '';\n//                      obj.upc = (result.upc) ? result.upc.toString() : '';\n//                      obj.date = \n//                      console.log(cons + ': ' + gameIndex + ' of ' + _this.json[cons].length);\n//                      if(cb)cb(obj, true);\n//                    } else {\n//                      if(cb)cb(obj, false);\n//                    }\n//                    \n//                  };\n"],[0,"    "]],"start1":2314,"start2":2314,"length1":637,"length2":8}]],"length":2503,"saved":false}
{"ts":1358471058249,"patch":[[{"diffs":[[0,"ow err;\n"],[-1,"                  \n"],[0,"        "]],"start1":705,"start2":705,"length1":35,"length2":16},{"diffs":[[0,"        "],[-1,"//"],[0,"_this.lo"]],"start1":1537,"start2":1537,"length1":18,"length2":16}]],"length":2482,"saved":false}
{"ts":1358471070191,"patch":[[{"diffs":[[0,"    "],[-1,"_this.log(url);"],[0,"\n   "]],"start1":1541,"start2":1541,"length1":23,"length2":8},{"diffs":[[0,"e.dir(obj);\n"],[1,"            _this.log(url);\n"],[0,"            "]],"start1":2237,"start2":2237,"length1":24,"length2":52}]],"length":2495,"saved":false}
{"ts":1358471106555,"patch":[[{"diffs":[[0,"  },"],[-1,"80"],[1,"1"],[0,"0); "]],"start1":787,"start2":787,"length1":10,"length2":9}]],"length":2494,"saved":false}
{"ts":1358471131935,"patch":[[{"diffs":[[0,"sult.img"],[-1,".src"],[0,") ? resu"]],"start1":2020,"start2":2020,"length1":20,"length2":16}]],"length":2490,"saved":false}
{"ts":1358471183174,"patch":[[{"diffs":[[0,"sult.img"],[1," !== 'undefined'"],[0,") ? resu"]],"start1":2020,"start2":2020,"length1":16,"length2":32}]],"length":2506,"saved":false}
{"ts":1358471220323,"patch":[[{"diffs":[[0,"mg ="],[-1," (result.img !== 'undefined') ?"],[0," res"]],"start1":2012,"start2":2012,"length1":39,"length2":8},{"diffs":[[0,".img.src"],[-1,".toString() :"],[1," ||"],[0," '';\n   "]],"start1":2023,"start2":2023,"length1":29,"length2":19}]],"length":2465,"saved":false}
{"ts":1358471250964,"patch":[[{"diffs":[[0,"esults;\n"],[1,"            try(result.img){\n    "],[0,"        "]],"start1":1987,"start2":1987,"length1":16,"length2":49},{"diffs":[[0,"g.src || '';"],[1,"            \n            }"],[0,"\n           "]],"start1":2059,"start2":2059,"length1":24,"length2":50}]],"length":2524,"saved":false}
{"ts":1358471282028,"patch":[[{"diffs":[[0,"    "],[-1,"try"],[1,"obj.img = "],[0,"(res"]],"start1":2003,"start2":2003,"length1":11,"length2":18},{"diffs":[[0,".img"],[-1,"){\n                obj.img = result.img.src || '';            \n            }"],[1," !== null) ? result.img.src.toString() : '';"],[0,"\n   "]],"start1":2024,"start2":2024,"length1":84,"length2":52}]],"length":2499,"saved":false}
{"ts":1358471334008,"patch":[[{"diffs":[[0,"esults;\n"],[1,"            try(result){\n    "],[0,"        "]],"start1":1987,"start2":1987,"length1":16,"length2":45},{"diffs":[[0,"            "],[1," "],[1,"   "],[0,"obj.upc = re"]],"start1":2102,"start2":2102,"length1":24,"length2":28},{"diffs":[[0,"tent || '';\n"],[1,"    "],[0,"            "]],"start1":2138,"start2":2138,"length1":24,"length2":28},{"diffs":[[0,"'';\n            "],[1,"    "],[0,"//console.dir(ob"]],"start1":2254,"start2":2254,"length1":32,"length2":36},{"diffs":[[0,"e.dir(obj);\n"],[1,"    "],[0,"            "]],"start1":2282,"start2":2282,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"cb(obj);"]],"start1":2330,"start2":2330,"length1":16,"length2":20},{"diffs":[[0,"   cb(obj);\n"],[1,"            } catch(e) {\n                console.log(e);\n            }\n"],[0,"        });\n"]],"start1":2339,"start2":2339,"length1":24,"length2":95}]],"length":2619,"saved":false}
{"ts":1358471375532,"patch":[[{"diffs":[[0," try"],[-1,"("],[1," {"],[0,"result"],[-1,"){"],[1,"}"],[0,"\n   "]],"start1":2006,"start2":2006,"length1":17,"length2":17},{"diffs":[[0,"    "],[-1,"} catch(e) {\n                console.log(e);\n            }"],[0,"\n   "]],"start1":2359,"start2":2359,"length1":66,"length2":8}]],"length":2561,"saved":false}
{"ts":1358471414807,"patch":[[{"diffs":[[0," {result"],[-1,"}\n"],[1,".img} catch (e) { console.log(e) }\n//"],[0,"        "]],"start1":2010,"start2":2010,"length1":18,"length2":53},{"diffs":[[0,"oString() : '';\n"],[1,"//"],[0,"                "]],"start1":2121,"start2":2121,"length1":32,"length2":34},{"diffs":[[0,"tent || '';\n"],[1,"//"],[0,"            "]],"start1":2175,"start2":2175,"length1":24,"length2":26},{"diffs":[[0,") : '';\n"],[1,"//"],[0,"        "]],"start1":2289,"start2":2289,"length1":16,"length2":18},{"diffs":[[0,"e.dir(obj);\n"],[1,"//"],[0,"            "]],"start1":2323,"start2":2323,"length1":24,"length2":26},{"diffs":[[0,"g(url);\n"],[1,"//"],[0,"        "]],"start1":2361,"start2":2361,"length1":16,"length2":18}]],"length":2606,"saved":false}
{"ts":1358471496153,"patch":[[{"diffs":[[0,"    "],[-1,"try {"],[1,"if("],[0,"result"],[-1,".img} catch (e) { console.log(e) }\n//"],[1,"){\n"],[0,"    "]],"start1":2003,"start2":2003,"length1":56,"length2":20},{"diffs":[[0,"oString() : '';\n"],[-1,"//"],[0,"                "]],"start1":2085,"start2":2085,"length1":34,"length2":32},{"diffs":[[0,"tent || '';\n"],[-1,"//"],[0,"            "]],"start1":2137,"start2":2137,"length1":26,"length2":24},{"diffs":[[0,") : '';\n"],[-1,"//"],[0,"        "]],"start1":2249,"start2":2249,"length1":18,"length2":16},{"diffs":[[0,"r(obj);\n"],[-1,"//"],[0,"        "]],"start1":2285,"start2":2285,"length1":18,"length2":16},{"diffs":[[0,"g(url);\n"],[-1,"//"],[0,"        "]],"start1":2317,"start2":2317,"length1":18,"length2":16},{"diffs":[[0,"      cb(obj"],[1,", true"],[0,");\n         "]],"start1":2335,"start2":2335,"length1":24,"length2":30},{"diffs":[[0,"e);\n            "],[1,"} else {\n                cb(obj, false)\n            }"],[0,"\n        });\n   "]],"start1":2352,"start2":2352,"length1":32,"length2":85}]],"length":2619,"saved":false}
{"ts":1358471543394,"patch":[[{"diffs":[[0,"tion(ret"],[-1,""],[0,""],[1,",which"],[0,"){\n     "]],"start1":541,"start2":541,"length1":16,"length2":22},{"diffs":[[0,".log(ret);\n "],[1,"           if(which){ \n"],[0,"            "]],"start1":581,"start2":581,"length1":24,"length2":47},{"diffs":[[0,"            });\n"],[1,"            } else {\n               fs.appendFile('data/all_failed.json', JSON.stringify(ret)+',', function (err) {\n                  if (err) throw err;\n                }); \n            }\n"],[0,"          });\n  "]],"start1":746,"start2":746,"length1":32,"length2":221},{"diffs":[[0,"       } else {\n"],[1,"                \n"],[0,"                "]],"start1":2579,"start2":2579,"length1":32,"length2":49},{"diffs":[[0,", false)"],[1,";"],[0,"\n       "]],"start1":2634,"start2":2634,"length1":16,"length2":17}]],"length":2855,"saved":false}
{"ts":1358473629341,"patch":[[{"diffs":[[0,")[1]"],[1," | //div[@id=\"product_details\"]/p[1]/a[@href]"],[0,"\\'',"],[1," "],[0,"func"]],"start1":2150,"start2":2150,"length1":12,"length2":58}]],"length":2901,"saved":false}
{"ts":1358475706713,"patch":[[{"diffs":[[0,"    },10"],[1,"0"],[0,");      "]],"start1":1003,"start2":1003,"length1":16,"length2":17}]],"length":2902,"saved":false}
{"ts":1358475713125,"patch":[[{"diffs":[[0,"      },"],[-1,"1"],[1,"2"],[0,"00);    "]],"start1":1001,"start2":1001,"length1":17,"length2":17}]],"length":2902,"saved":false}
{"ts":1358475823033,"patch":[[{"diffs":[[0,"ath."],[1,"round(Math."],[0,"floor("],[-1,"ind / "],[0,"_thi"]],"start1":341,"start2":341,"length1":20,"length2":25},{"diffs":[[0,"e.length"],[1," / ind)"],[0,")+'%: '+"]],"start1":372,"start2":372,"length1":16,"length2":23}]],"length":2914,"saved":false}
{"ts":1358475874075,"patch":[[{"diffs":[[0,"nd))"],[-1,"+"],[1," + "],[0,"'%: '"],[-1,"+ind+"],[1," + ind + "],[0,"' of '"],[-1,"+"],[1," + "],[0,"_thi"]],"start1":384,"start2":384,"length1":26,"length2":34}]],"length":2922,"saved":false}
{"ts":1358475911692,"patch":[[{"diffs":[[0,"h.floor("],[1,"ind / "],[0,"_this.qu"]],"start1":354,"start2":354,"length1":16,"length2":22},{"diffs":[[0,"ngth"],[-1," / ind"],[0,")) +"]],"start1":382,"start2":382,"length1":14,"length2":8}]],"length":2922,"saved":false}
{"ts":1358476079426,"patch":[[{"diffs":[[0,"       } else {\n"],[1,"                fs.appendFile('data/all.json', JSON.stringify(ret)+',', function (err) {\n                  if (err) throw err;\n                });\n"],[0,"               f"]],"start1":787,"start2":787,"length1":32,"length2":179}]],"length":3069,"saved":false}
{"ts":1358476134639,"patch":[[{"diffs":[[0,"oString() : '';\n"],[1,"                obj.more = (result.a) ? result.a.href : '';\n"],[0,"                "]],"start1":2673,"start2":2673,"length1":32,"length2":92}]],"length":3129,"saved":false}
{"ts":1358476296312,"patch":[[{"diffs":[[0,"     },2"],[-1,"0"],[1,"5"],[0,"0);     "]],"start1":1169,"start2":1169,"length1":17,"length2":17}]],"length":3129,"saved":false}
